<!DOCTYPE html>

<html lang="en">
<head>
<!-- Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#7c3aed" name="theme-color"/>
<!-- Favicon -->
<link href="/favicon.ico" rel="icon" type="image/x-icon">
<!-- SEO Meta -->
<meta content="Join LuckyDraw and buy lottery tickets to win big prizes online!" name="description"/>
<meta content="lottery, tickets, crypto draw, LuckyDraw, win" name="keywords"/>
<meta content="LuckyDraw Team" name="author"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Admin Dashboard | LuckyDraw</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    :root {
      --primary: #5B21B6;
      --primary-light: #7C3AED;
      --primary-lighter: #8B5CF6;
      --primary-lightest: #C084FC;
      --secondary: #10B981;
      --danger: #EF4444;
      --light: #F9FAFB;
      --light-gray: #F3F4F6;
      --dark: #111827;
      --gray: #6B7280;
      --dark-gray: #374151;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--light);
      color: var(--dark);
    }
    
    /* Sidebar styles */
    .sidebar {
      background: linear-gradient(180deg, var(--primary) 0%, var(--primary-light) 100%);
      box-shadow: 4px 0 15px rgba(0, 0, 0, 0.1);
    }
    
    .sidebar-button {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    
    .sidebar-button:hover {
      background-color: rgba(255, 255, 255, 0.15);
      transform: translateX(5px);
    }
    
    .sidebar-button::after {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 3px;
      background-color: white;
      transform: translateX(-10px);
      transition: transform 0.3s ease;
      opacity: 0;
    }
    
    .sidebar-button:hover::after {
      transform: translateX(0);
      opacity: 1;
    }
    
    /* Card styles */
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
      transition: all 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    /* Button styles */
    .btn-primary {
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(91, 33, 182, 0.3);
    }
    
    .btn-secondary {
      background-color: var(--light-gray);
      transition: all 0.3s ease;
    }
    
    .btn-secondary:hover {
      background-color: #E5E7EB;
      transform: translateY(-2px);
    }
    
    .btn-danger {
      background: linear-gradient(135deg, #F87171 0%, var(--danger) 100%);
      transition: all 0.3s ease;
    }
    
    .btn-danger:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.3);
    }
    
    /* Table row hover */
    .table-row:hover {
      background-color: rgba(124, 58, 237, 0.03);
    }
    
    /* Status badges */
    .status-active {
      background-color: var(--secondary);
      color: white;
    }
    
    .status-inactive {
      background-color: var(--danger);
      color: white;
    }
    
    /* Form inputs */
    .form-input {
      transition: all 0.3s ease;
      border: 1px solid #E5E7EB;
    }
    
    .form-input:focus {
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fade-in {
      animation: fadeIn 0.4s ease-out forwards;
    }
  </style>
</meta></link></head>
<body class="min-h-screen flex bg-gray-50">
<!-- Sidebar -->
<aside class="w-64 sidebar flex flex-col text-white">
<div class="text-xl font-bold text-center py-5 border-b border-white border-opacity-10">
      LuckyDraw Admin
    </div>
<nav class="flex-1 p-4 space-y-1">
<button class="sidebar-button w-full text-left px-4 py-3 rounded-lg font-medium flex items-center space-x-3" onclick="showSection('overview')">
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Dashboard</span>
</button>
<button class="sidebar-button w-full text-left px-4 py-3 rounded-lg font-medium flex items-center space-x-3" onclick="showSection('users')">
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Users</span>
</button>
<button class="sidebar-button w-full text-left px-4 py-3 rounded-lg font-medium flex items-center space-x-3" onclick="showSection('tickets')">
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Tickets</span>
</button>
<button class="sidebar-button w-full text-left px-4 py-3 rounded-lg font-medium flex items-center space-x-3" onclick="showSection('draws')">
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Draws</span>
</button>
<button class="sidebar-button w-full text-left px-4 py-3 rounded-lg font-medium flex items-center space-x-3" onclick="showSection('analytics')">
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Analytics</span>
</button>
<button class="sidebar-button w-full text-left px-4 py-3 rounded-lg font-medium flex items-center space-x-3 mt-8 text-red-200 hover:text-white" onclick="logout()">
<svg class="h-5 w-5" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Logout</span>
</button>
</nav>
</aside>
<!-- Main Content -->
<main class="flex-1 p-8 overflow-auto">
<!-- Overview Section -->
<section class="animate-fade-in" id="overview">
<h1 class="text-2xl font-bold text-gray-800 mb-6">Dashboard Overview</h1>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
<div class="card p-6">
<div class="flex items-center space-x-4">
<div class="p-3 rounded-full bg-purple-100 text-purple-600">
<svg class="h-6 w-6" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
<div>
<h2 class="text-sm font-medium text-gray-500">Total Users</h2>
<p class="text-2xl font-bold text-gray-800" id="countUsers">0</p>
</div>
</div>
</div>
<div class="card p-6">
<div class="flex items-center space-x-4">
<div class="p-3 rounded-full bg-indigo-100 text-indigo-600">
<svg class="h-6 w-6" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
<div>
<h2 class="text-sm font-medium text-gray-500">Draws</h2>
<p class="text-2xl font-bold text-gray-800" id="countDraws">0</p>
</div>
</div>
</div>
<div class="card p-6">
<div class="flex items-center space-x-4">
<div class="p-3 rounded-full bg-blue-100 text-blue-600">
<svg class="h-6 w-6" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
<div>
<h2 class="text-sm font-medium text-gray-500">Tickets</h2>
<p class="text-2xl font-bold text-gray-800" id="countTickets">0</p>
</div>
</div>
</div>
<div class="card p-6">
<div class="flex items-center space-x-4">
<div class="p-3 rounded-full bg-green-100 text-green-600">
<svg class="h-6 w-6" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
<div>
<h2 class="text-sm font-medium text-gray-500">Revenue</h2>
<p class="text-2xl font-bold text-gray-800" id="totalRevenue">0 ETH</p>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
<div class="card p-6">
<h2 class="text-xl font-semibold text-gray-800 mb-4">Recent Draws</h2>
<div class="overflow-x-auto">
<table class="min-w-full divide-y divide-gray-200">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Draw Time</th>
</tr>
</thead>
<tbody class="bg-white divide-y divide-gray-200" id="recentDrawsTable">
<!-- Filled by JavaScript -->
</tbody>
</table>
</div>
</div>
<div class="card p-6">
<h2 class="text-xl font-semibold text-gray-800 mb-4">Recent Transactions</h2>
<div class="overflow-x-auto">
<table class="min-w-full divide-y divide-gray-200">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Draw</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
</tr>
</thead>
<tbody class="bg-white divide-y divide-gray-200" id="recentTransactionsTable">
<!-- Filled by JavaScript -->
</tbody>
</table>
</div>
</div>
</div>
</section>
<!-- Users Section -->
<section class="hidden animate-fade-in" id="users">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-gray-800">User Management</h2>
<div class="relative w-64">
<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
<svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
<input class="form-input block w-full pl-10 pr-3 py-2 rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500" id="userSearch" placeholder="Search users..." type="text"/>
</div>
</div>
<div class="card overflow-hidden">
<div class="overflow-x-auto">
<table class="min-w-full divide-y divide-gray-200">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Username</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Joined</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tickets</th>
</tr>
</thead>
<tbody class="bg-white divide-y divide-gray-200" id="userList">
<!-- Filled by JavaScript -->
</tbody>
</table>
</div>
</div>
</section>
<!-- Tickets Section -->
<section class="hidden animate-fade-in" id="tickets">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-gray-800">Ticket Transactions</h2>
<div class="flex space-x-3">
<select class="form-input px-4 py-2 rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500" id="ticketDrawFilter">
<option value="">All Draws</option>
</select>
<div class="relative">
<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
<svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</div>
<input class="form-input pl-10 pr-3 py-2 rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500" id="ticketUserFilter" placeholder="Filter by user..." type="text"/>
</div>
</div>
</div>
<div class="card overflow-hidden">
<div class="overflow-x-auto">
<table class="min-w-full divide-y divide-gray-200">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Draw</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
</tr>
</thead>
<tbody class="bg-white divide-y divide-gray-200" id="ticketList">
<!-- Filled by JavaScript -->
</tbody>
</table>
</div>
</div>
<!-- Ticket Filters HTML -->
<select class="form-input px-4 py-2 rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500" id="ticketStatusFilter">
<option value="">All Statuses</option>
<option value="pending">Pending</option>
<option value="success">Success</option>
<option value="failed">Failed</option>
</select>
<input class="form-input px-4 py-2 rounded-lg border-gray-300" id="ticketStartDate" placeholder="Start Date" type="date"/>
<input class="form-input px-4 py-2 rounded-lg border-gray-300" id="ticketEndDate" placeholder="End Date" type="date"/>

<!-- Analytics Section -->
<section class="hidden animate-fade-in" id="analytics">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Analytics</h2>
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="card p-6">
      <h3 class="text-lg font-semibold mb-4">Revenue Over Time</h3>
      <canvas id="revenueChart" height="200"></canvas>
    </div>
    <div class="card p-6">
      <h3 class="text-lg font-semibold mb-4">Tickets Sold</h3>
      <canvas id="ticketsChart" height="200"></canvas>
    </div>
  </div>
</section>

<!-- Ticket Filters JS -->



<script type="module">
  // Expose a global to work with inline onclick handlers
  window.showSection = (id) => {
    const ids = ['overview','users','tickets','draws','analytics'];
    ids.forEach(s => {
      const el = document.getElementById(s);
      if (!el) return;
      if (s === id) el.classList.remove('hidden');
      else el.classList.add('hidden');
    });
    // Optional: highlight active button
    const buttons = Array.from(document.querySelectorAll('.sidebar button[onclick^="showSection"]'));
    buttons.forEach(btn => {
      const match = btn.getAttribute('onclick')?.match(/showSection\('([^']+)'\)/);
      if (match && match[1] === id) {
        btn.classList.add('bg-white','bg-opacity-10');
      } else {
        btn.classList.remove('bg-white','bg-opacity-10');
      }
    });
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  // Default to Overview on load
  document.addEventListener('DOMContentLoaded', () => {
    window.showSection('overview');
  });
</script>

</body>
</html>
